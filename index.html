<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="/assets/fav.png">
    <title>PDF Compressor</title>
    
	<link href="./assets/tailwind_output.css" rel="stylesheet">
    <link href="./styles.css" rel="stylesheet">
    <script src="./assets/pdf-lib.min.js"></script>
</head>
	<body class="bg-gradient-to-br from-gray-900 via-purple-900 to-violet-900 min-h-screen text-white">
    
	    <div class="bg-gray-800/50 backdrop-blur-sm p-8"> <h2 class="text-3xl font-bold mb-6 text-left">üóúÔ∏è Compress PDF</h2>
	
	        <div id="compress-drop-zone" class="drop-zone p-12 rounded-xl border-2 border-dashed border-white/30 text-center mb-6 cursor-pointer">
	            <svg class="mx-auto h-16 w-16 mb-4 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
	            <p class="text-xl mb-2">Drag &amp; Drop a PDF Here</p>
	            <p class="text-sm text-gray-400 mb-4">or click to browse</p>
	        </div>
	
	        <div id="compress-file-display" class="hidden items-center justify-between p-4 mb-6 bg-gray-900/50 rounded-xl">
	            <p class="text-lg font-medium text-green-400 truncate pr-4" id="compress-filename"></p>
	            <button id="clear-compress-btn" class="bg-red-500/20 text-red-400 font-bold py-2 px-4 rounded-xl hover:bg-red-500/30 transition-all flex-shrink-0">
	                üóëÔ∏è Clear
	            </button>
	        </div>
	        
	        <input type="file" id="compress-file" class="hidden" accept=".pdf" />
	
	        <div class="mb-6">
	            <label for="compress-quality" class="block text-sm font-medium mb-2">Compression Level:</label>
	            <select id="compress-quality" class="w-full px-4 py-2 bg-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 text-white">
	                <option value="/ebook" selected>Medium Compression / Medium Quality (150 dpi)</option>
	                <option value="/screen">Maximum Compression / Minimum Quality (72 dpi)</option>
	                <option value="/printer">Low Compression / High Quality (300 dpi)</option>
	                <option value="/prepress">Minimum Compression / Maximum Quality (300 dpi, color preserving)</option>
	            </select>
	        </div>
	
	        <div id="compress-progress-container" class="hidden p-4 mb-6 bg-blue-900/50 rounded-xl">
	            <div class="flex items-center justify-center gap-4">
	                <div class="loading-spinner"></div>
	                <div>
	                    <p id="compress-progress-text" class="font-semibold text-blue-300">Compressing PDF, please wait...</p>
	                    <p class="text-sm text-blue-400">Processing <span id="compress-quality-label"></span> quality...</p>
	                    <p id="compress-timer" class="text-xs text-gray-400 mt-1">Elapsed: 0s</p>
	                    <p id="compress-etr" class="text-xs text-cyan-400 mt-1 hidden"></p>
	                </div>
	            </div>
	            <div class="w-full bg-gray-700 rounded-full h-2.5 mt-4">
	                <div id="compress-progress-bar" class="bg-blue-400 h-2.5 rounded-full transition-all duration-300" style="width: 0%"></div>
	            </div>
	        </div>
	        
	        <div id="compress-error-container" class="hidden p-4 mb-6 bg-red-900/50 rounded-xl">
	            <p class="font-semibold text-red-300">An Error Occurred:</p>
	            <p id="compress-error-text" class="text-sm text-red-400"></p>
	        </div>
	
	        <button id="compress-btn" class="w-full bg-gradient-to-r from-indigo-500 to-blue-600 text-white font-bold py-3 px-6 rounded-xl hover:from-indigo-600 hover:to-blue-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
	            üóúÔ∏è Compress PDF
	        </button>

		<footer class="text-center text-xs text-gray-400 mt-6">
            <p>
                This tool is licensed under the AGPLv3.
                <a href="https://github.com/atra1n2/pdf-compress-applet/" 
                   target="_blank" 
                   class="underline hover:text-white">
                   View Source Code
                </a>
            </p>
        </footer>
	    </div>
	
	    <div id="download-modal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50">
	        <div class="bg-gray-800 p-8 rounded-2xl max-w-md w-full mx-4">
	            <h3 class="text-2xl font-bold mb-4">üíæ Save PDF</h3>
	            <div class="mb-4">
	                <label class="block text-sm font-medium mb-2">File Name:</label>
	                <input type="text" id="download-filename" class="w-full px-4 py-2 bg-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 text-white" value="document.pdf" />
	            </div>
	            <p class="text-sm text-gray-400 mb-6">Note: Download location is controlled by your browser settings</p>
	            <div class="flex gap-4">
	                <button onclick="confirmDownload()" class="flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-2 px-4 rounded-lg hover:from-green-600 hover:to-emerald-700">
	                    Download
	                </button>
	                <button onclick="cancelDownload()" class="flex-1 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700">
	                    Cancel
	                </button>
	            </div>
	        </div>
	    </div>
	</body>
    <script src="./app.js"></script>
    </script>
</body>
</html>
